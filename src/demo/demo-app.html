<template>
  <mdc-drawer modal="true">
    <template replace-part="drawer-content">
      <nav class="mdc-list">
        <a class="mdc-list-item mdc-list-item--activated" href="#" aria-selected="true">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true">inbox</i>
          <span class="mdc-list-item__text">Inbox</span>
        </a>
        <a class="mdc-list-item" href="#">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true">send</i>
          <span class="mdc-list-item__text">Outgoing</span>
        </a>
        <a class="mdc-list-item" href="#">
          <i class="material-icons mdc-list-item__graphic" aria-hidden="true">drafts</i>
          <span class="mdc-list-item__text">Drafts</span>
        </a>
      </nav>
    </template>
  </mdc-drawer>
  <div class="app-container">
    <mdc-top-app-bar title="Demo"></mdc-top-app-bar>
    <main class="mdc-top-app-bar--fixed-adjust">
      <h1 class="mdc-typography--headline5">${message}</h1>
      <mdc-tab-bar selected-tab-index.from-view="selectedTab">
        <mdc-tab-scroller>
          <mdc-tab id="tab1" label="Form" active="true">
          </mdc-tab>
          <mdc-tab id="tab2" label="Model">
          </mdc-tab>
        </mdc-tab-scroller>
      </mdc-tab-bar>
      <div id="model-info" if.bind="selectedTab == 1">
        <p>Model info</p>
        <ul>
          <li>email: ${demoModel.email} [${typeof(demoModel.email)}]</li>
          <li>numeric: ${demoModel.numeric} [${typeof(demoModel.numeric)}]</li>
          <li>checked: ${demoModel.checked} [${typeof(demoModel.checked)}]</li>
          <li>selected1: ${demoModel.selected1==null?'null':demoModel.selected1} [${typeof(demoModel.selected1)}]</li>
          <li>selected2: ${demoModel.selected2==null?'null':demoModel.selected2} [${typeof(demoModel.selected2)}]</li>
        </ul>
      </div>
      <form if.bind="selectedTab == 0">
        <div class="info">Text field with email address check</div>
        <mdc-text-field id="emailInput" label="Email" type="text"
                        helper-text="Please enter a valid email address" 
                        value.bind="demoModel.email & validate"
                        required.bind="true" autofocus="true" maxlength="25" mdc-validation-errors>
        </mdc-text-field>
        <div class="value">${demoModel.email}</div>
        <div class="info">Text field with numeric input</div>
        <mdc-text-field id="numericInput" label="Numeric" type="number"
                        value.bind="demoModel.numeric & validate" required="true" mdc-validation-errors></mdc-text-field>
        <div class="value">${demoModel.numeric}</div>
        <div class="info">Slider that set numeric value 0-100</div>
        <mdc-slider id="input3" discrete="true" markers="true" value.bind="demoModel.numeric" valuemax="100" label="Numeric via slider"></mdc-slider>
        <div class="value">${demoModel.numeric}</div>
        <div class="info">Switch that sets boolean</div>
        <mdc-switch id="input4" label="Switch me" checked.two-way="demoModel.checked & validate" required="true" mdc-validation-errors></mdc-switch>
        <div class="value">${demoModel.checked}</div>
        <!-- <div class="progress">
          <mdc-linear-progress open.bind="demoModel.checked" value.bind="demoModel.percentage"></mdc-linear-progress>
        </div> -->
        <div class="info">Select</div>
        <mdc-select id="selectInput"
                    label="Fruit"
                    select-options.bind="['Banana', 'Orange', 'Apple'] | mdcSelectOptions"
                    selected.bind="demoModel.selected1 & validate"
                    required="true"
                    helper-text="Please select a fruit"
                    mdc-validation-errors>
        </mdc-select>
        <div class="value">${demoModel.selected1}</div>

        <div class="info">Select with number store</div>
        <mdc-select id="selectInput2"
                    label="Fruit"
                    select-options.bind="['', null, 'Banana', 101, 'Orange', 102, 'Apple', 103] | mdcSelectOptions:true"
                    selected.bind="demoModel.selected2 & validate"
                    required="true"
                    helper-text="Please select a fruit"
                    mdc-validation-errors>
        </mdc-select>
        <div class="value">${demoModel.selected2}</div>

        <div class="info">All errors</div>
        <div class="errors">
          <div repeat.for="error of controller.errors">
            ${error}
          </div>
          &nbsp;</div>
        <div class="value">&nbsp;</div>
        <div class="info">Buttons</div>
        <div class="action">
          <button type="submit" class="mdc-button mdc-button--raised mdc-button--primary" mdc-ripple
                  disabled.bind="enableSubmit?'':'disabled'"
                  click.trigger="submit()">
            Submit
          </button>
          <button class="mdc-button" mdc-ripple>Cancel</button>
        </div>
        <div class="value">&nbsp;</div>
      </form>
    </main>
  </div>
</template>
